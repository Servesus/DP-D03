Query 31:

"SELECT((SELECT COUNT (A) FROM APPLICATION A JOIN A.FIXUPTASK F WHERE F.PERIODSTART <= CURRENT_DATE)
/(SELECT COUNT(B) FROM APPLICTION B))*100"

NO FUNCIONARÍA EN JPQL

Query 32:

"SELECT W FROM HANDYWORKER W WHERE (SELECT COUNT (P) FROM W.APPLICATION P WHERE P.ID_HANDYWORKER =
W.ID_HANDYWORKER AND P.STATUS = 'ACCEPTED') >= SELECT ((SELECT COUNT (A) FROM HANDYWORKER Y JOIN Y.APPLICATION A
WHERE A.STATUS = 'ACCEPTED')/(SELECT COUNT (H) FROM HANDYWORKER H))*1.1"

FALTARÍA UN GROUP BY, SEGURAMENTE LO PODAMOS HACER MÁS FÁCIL

Query 41:

SELECT 1.0*(SELECT COUNT(F) FROM FINDER F WHERE F.KEYWORD IS NULL AND F.NAMECATEGORY IS NULL AND F.PRICEMIN IS NULL

NO HE TERMINADO DE COPIARLA

QUE TODO SEA NULL Y MULTIPLICAR POR 1.0 AL PRINCIPIO Y AL FINAL PARA QUE DE UN NÚMERO ENTERO

Query 42:

SE TIENEN QUE ACTUALIZAR LAS QUE EL LASTUPDATE SEAN ANTERIOR A LA FECHA ACTUAL MENOS EL FINDERCACHETIME DE CONFIGURATION

SELECT C.FINDERCACHETIME FROM CONFIGURATION C

SELECT F.ID, F.LASTUPDATE FROM FINDER F

SELECT (SELECT COUNT(F. LASTUPDATE) FROM FINDER F, CONFIGURATION C
WHERE F.LASTUPDATE < CURRENT_TIMESTAMP()-C.FINDERCACHETIME*10000)*1.0/COUNT(F)*1.0
FROM FINDER F

Query 51:

SELECT AVG((COUNT (FX1.COMPLAINTS), SQRT(SUM(FX2.COMPLAINTS *FX2.COMPLAINTS)/
COUNT(FX2.COMPLAINTS)-(AVG(FX2.COMPLAINTS)*AVG(FX2.COMPLAINTS)))
FROM FIXUPTASK FX1, FIXUPTASK FX2

EXISTE LA DESVIACIÓN ESTÁNDAR EN JPQL (TAMBIÉN SE PUEDE HACER CON LAS TRANSPARENCIAS DE TEORÍA)
HABRÍA QUE HACER .SIZE PARA SABER CUANTAS HAY, O SE HACE EL COUNT DE LO QUE TE DEVUELVE UNA QUERY

Query 52:

SELECT A.HANDYWORKER FROM APPLICATION A JOIN A.FIXUPTASK FX WHERE (FX.COMPLAINTS > 0) HAVING (COUNT (A.HANDYWORKER) =3)
ORDER BY FX.COMPLAINTS DESC

FALTARÍA ALGO PORQUE NOS PIDEN LOS 3 PEORES. HABRÍA QUE HACER UN MAX.
HAY FUNCIONES PARA HACER ESTO (TOP 3(EN EL SELECT), LIMIT(0,3))

ESTA MAL PORQUE UN HANDYWORKER NO ES UN NUMERO (A.HANDYWORKER)=3

Query 61:

NOSOTROS NO TENEMOS LA CLASE ENDORSEMENT PERO AÚN ASI LAS COPIO PORQUE SOY UN GRAN COMPAÑERO DE GRUPO :)

AL FINAL NO LO COPIO PORQUE JESÚS DICE QUE ES PA EL A JEJE

Query 62:

ESTE SIGUE SIENDO PARA EL A